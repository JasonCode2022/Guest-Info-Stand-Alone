import{r as e,c as i,h as t}from"./p-8969bb86.js";const s='body{margin:0;padding:0;display:block;justify-content:center;align-items:center;height:100vh;background-color:#f0f0f0;font-family:sans-serif;color:rgb(60, 60, 60)}#main-container{background-color:rgb(244, 245, 250);width:55%;margin:0 auto;padding:2.5rem 1.875rem}#form-container{margin:0 auto;padding:1.5rem;border:0.0625rem solid rgb(244, 245, 250);background-color:white;box-shadow:0 0.125rem 0.25rem rgba(0, 0, 0, 0.2);border-radius:0.3rem}.line-separator{border-top:0.0625rem solid rgb(222, 222, 224);margin:1rem 0}h3{font-size:1.2rem;margin-bottom:0.5rem}.input-container{display:flex;align-items:center;border:none;border-radius:0.25rem;padding:0.3125rem;margin-bottom:0.625rem;width:100%}.input-container label{display:block;padding:0.24rem;border-right:none;border:0.0625rem solid #ccc;border-radius:0.25rem 0 0 0.25rem;width:15%;background-color:rgb(236, 236, 236)}.input-container input{display:block;padding:0.3125rem;border-left:none;border:0.0625rem solid #ccc;border-radius:0 0.25rem 0.25rem 0;width:85%}.input-container select{display:block;padding:0.3125rem;border-left:none;border:0.0625rem solid #ccc;border-radius:0 0.25rem 0.25rem 0;width:85%}.input-container textarea{display:block;padding:0.3125rem;border-left:none;border:0.0625rem solid #ccc;border-radius:0 0.25rem 0.25rem 0;width:85%}#address-lable{display:block;padding:0.7rem;border-right:none;border:0.0625rem solid #ccc;border-radius:0.25rem 0 0 0.25rem;width:13%;background-color:rgb(236, 236, 236)}#countryCode{height:1.71rem;width:12%}#mobileNumber{width:98%;margin-left:0.4rem;margin-bottom:0.625rem;padding:0.4rem}.checkbox{margin-bottom:0.625rem}.checkbox input[type="checkbox"]{width:1.1rem;height:1.1rem}button.full-width-button{width:100%;padding:0.625rem 1.25rem;background-color:rgb(30, 159, 242);color:#fff;border:none;border-radius:0.25rem;cursor:pointer}#a,#b,#c{color:rgb(109, 109, 109);font-weight:bolder}#b,#c{cursor:pointer}.error-message{color:red;font-size:0.75rem;margin-top:0;padding-top:0;margin-left:0.4rem}';const r=class{constructor(t){e(this,t);this.formDataSubmitted=i(this,"formDataSubmitted",7);this.allCountries=[];this.responseD=undefined;this.opened=undefined;this.firstname="";this.lastname="";this.email="";this.alternateemail="";this.password="";this.country="";this.city="";this.adress="";this.countrycode="";this.mobilenumber="";this.newsletter=false;this.formSubmitted=false;this.showFormError=false}async componentDidLoad(){const e=await this.fetchDataFromAPI();if(e){this.firstname=e.firstname;this.lastname=e.lastname;this.email=e.email;this.alternateemail=e.alternateemail;this.password=e.password;this.country=e.country;this.city=e.city;this.adress=e.adress;this.countrycode=e.countrycode;this.mobilenumber=e.mobilenumber;this.newsletter=e.newsletter}}async fetchDataFromAPI(){try{const e=new Headers;e.append("Content-Type","application/json");const i=JSON.stringify({language:"EN"});const t={method:"POST",headers:e,body:i,redirect:"follow"};const s=await fetch("https://gateway.igloorooms.com/IR/Get_Exposed_Countries?Ticket=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2OTEzMDY5NzEsIkNMQUlNLTAxIjoicktLMi9DY1dQQnM9IiwiQ0xBSU0tMDIiOiI5UStMQm93VTl6az0iLCJDTEFJTS0wMyI6Ilp3Tys5azJoTzUwPSIsIkNMQUlNLTA0IjoiZE5oVHRrc2lQaSt5MDdRVkMwN3hwczNRdEJZMEE3eCtkbXR3TWlJdHRaTT0ifQ.6YTCQAE9mS9z0aJutGCzvc9O64bqgYFCINguW_uIb5k",t);this.responseD=s.ok;if(!s.ok){throw new Error("Network response was not ok")}const r=await s.json();this.allCountries=r.My_Result;console.log(this.allCountries);console.log(this.responseD)}catch(e){console.error("Error fetching data:",e);return null}}handleCheckboxChange(e){const i=e.target;this.newsletter=i.checked}async handleSubmit(e){e.preventDefault();const i={firstname:this.firstname,lastname:this.lastname,email:this.email,alternateemail:this.alternateemail,password:this.password,country:this.country,city:this.city,adress:this.adress,countrycode:this.countrycode,mobilenumber:this.mobilenumber,newsletter:this.newsletter};this.formDataSubmitted.emit(i);console.log(i)}saveGuestDetailsClick(e){e.preventDefault();if(this.firstname.trim()===""||this.lastname.trim()===""||this.email.trim()===""||this.password.trim()===""||this.country.trim()===""||this.countrycode.trim()===""||this.mobilenumber.trim()===""){this.showFormError=true;console.log("Please Fill All Required Fields!")}else{this.handleSubmit(e);console.log(e)}}render(){let e=null;let i=null;let s=null;const r=new Date;const l=r.getDate();const o=r.toLocaleString("default",{month:"short"});const a=r.getFullYear();const n=`${l}-${o}-${a}`;if(this.responseD){i=this.allCountries.map((e=>t("option",{value:e.name,key:e.id},e.name)));s=this.allCountries.map((e=>t("option",{value:e.phone_prefix,key:e.id},e.phone_prefix)))}if(this.opened){e=[t("div",{id:"main-container"},t("h3",null,"Guest Details"),t("div",{id:"form-container"},t("div",null,t("form",{action:""},t("div",null,t("p",{id:"rg-date"},"Registration date : ",t("span",{id:"a"},n))),t("div",{class:"input-container"},t("label",{htmlFor:"firstName"},"First Name*"),t("input",{type:"text",id:"firstName",placeholder:"",value:this.firstname,onChange:e=>this.firstname=e.target.value})),t("div",null,this.showFormError&&this.firstname.trim()===""?t("p",{class:"error-message"},"Please Fill This Field."):null),t("div",{class:"input-container"},t("label",{htmlFor:"lastname"},"Last Name*"),t("input",{type:"text",id:"lastName",placeholder:"",value:this.lastname,onChange:e=>this.lastname=e.target.value})),t("div",null,this.showFormError&&this.lastname.trim()===""?t("p",{class:"error-message"},"Please Fill This Field."):null),t("div",{class:"input-container"},t("label",{htmlFor:"email"},"Email*"),t("input",{type:"email",id:"email",placeholder:"",value:this.email,onChange:e=>this.email=e.target.value})),t("div",null,this.showFormError&&this.email.trim()===""?t("p",{class:"error-message"},"Please Fill This Field."):null),t("div",{class:"input-container"},t("label",{htmlFor:"email"},"Alternate email"),t("input",{type:"email",id:"Alt-email",placeholder:"",value:this.alternateemail,onChange:e=>this.alternateemail=e.target.value})),t("div",{class:"input-container"},t("label",{htmlFor:"password"},"Password*"),t("input",{type:"password",id:"password",placeholder:"",value:this.password,onChange:e=>this.password=e.target.value})),t("div",null,this.showFormError&&this.password.trim()===""?t("p",{class:"error-message"},"Please Fill This Field."):null),t("div",{class:"input-container"},t("label",{htmlFor:"country"},"Country*"),t("select",{class:"country-dropdown",id:"country",onChange:e=>this.country=e.target.value},t("option",{value:"",disabled:true,selected:true},"Select Your Country"),i)),t("div",null,this.showFormError&&this.country.trim()===""?t("p",{class:"error-message"},"Please Fill This Field."):null),t("div",{class:"input-container"},t("label",{htmlFor:"city"},"City"),t("input",{type:"text",id:"city",placeholder:"",value:this.city,onChange:e=>this.city=e.target.value})),t("div",{class:"input-container"},t("label",{id:"address-lable",htmlFor:"address"},"Address"),t("textarea",{class:"",id:"address-textarea",rows:2,placeholder:"",value:this.adress,onInput:e=>this.adress=e.target.value})),t("div",{class:"input-container"},t("label",{htmlFor:"countryCode"},"Mobile"),t("select",{id:"countryCode",onChange:e=>this.countrycode=e.target.value},t("option",{value:"",disabled:true,selected:true},"Code"),s),t("br",null)),t("div",null,this.showFormError&&this.countrycode.trim()===""?t("p",{class:"error-message"},"Please Fill This Field."):null),t("div",{class:""},t("input",{type:"tel",id:"mobileNumber",placeholder:"",value:this.mobilenumber,onChange:e=>this.mobilenumber=e.target.value})),t("div",null,this.showFormError&&this.mobilenumber.trim()===""?t("p",{class:"error-message"},"Please Fill This Field."):null),t("div",{class:"checkbox"},t("input",{type:"checkbox",id:"termsCheckbox",name:"termsCheckbox",onChange:e=>this.handleCheckboxChange(e)}),t("label",{htmlFor:"termsCheckbox"},"Newsletter")),t("div",null,t("span",null,"Last used :"),t("span",null,"Language: ",t("span",{id:"b"},"EN")),t("span",null,"--- Currency: ",t("span",{id:"c"},"â‚¬"))),t("div",{class:"line-separator"}),t("button",{type:"submit",class:"full-width-button",onClick:e=>this.saveGuestDetailsClick(e)},"Save")))))]}return e}};r.style=s;export{r as jji_guest_details};
//# sourceMappingURL=p-0b312aca.entry.js.map