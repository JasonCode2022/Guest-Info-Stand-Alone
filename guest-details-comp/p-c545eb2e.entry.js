import{r as t,c as e,h as i}from"./p-8969bb86.js";const s="";const a=class{constructor(i){t(this,i);this.formDataSubmitted=e(this,"formDataSubmitted",7);this.allCountries=[];this.responseD=undefined;this.opened=undefined;this.firstname="";this.lastname="";this.email="";this.alternateemail="";this.password="";this.country="";this.city="";this.adress="";this.countrycode="";this.mobilenumber="";this.newsletter=false;this.formSubmitted=false;this.showFormError=false}async componentDidLoad(){const t=await this.fetchDataFromAPI();if(t){this.firstname=t.firstname;this.lastname=t.lastname;this.email=t.email;this.alternateemail=t.alternateemail;this.password=t.password;this.country=t.country;this.city=t.city;this.adress=t.adress;this.countrycode=t.countrycode;this.mobilenumber=t.mobilenumber;this.newsletter=t.newsletter}}async fetchDataFromAPI(){try{const t=new Headers;t.append("Content-Type","application/json");const e=JSON.stringify({language:"EN"});const i={method:"POST",headers:t,body:e,redirect:"follow"};const s=await fetch("https://gateway.igloorooms.com/IR/Get_Exposed_Countries?Ticket=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2OTEzMDY5NzEsIkNMQUlNLTAxIjoicktLMi9DY1dQQnM9IiwiQ0xBSU0tMDIiOiI5UStMQm93VTl6az0iLCJDTEFJTS0wMyI6Ilp3Tys5azJoTzUwPSIsIkNMQUlNLTA0IjoiZE5oVHRrc2lQaSt5MDdRVkMwN3hwczNRdEJZMEE3eCtkbXR3TWlJdHRaTT0ifQ.6YTCQAE9mS9z0aJutGCzvc9O64bqgYFCINguW_uIb5k",i);this.responseD=s.ok;if(!s.ok){throw new Error("Network response was not ok")}const a=await s.json();this.allCountries=a.My_Result;console.log(this.allCountries);console.log(this.responseD)}catch(t){console.error("Error fetching data:",t);return null}}handleCheckboxChange(t){const e=t.target;this.newsletter=e.checked}async handleSubmit(t){t.preventDefault();const e={firstname:this.firstname,lastname:this.lastname,email:this.email,alternateemail:this.alternateemail,password:this.password,country:this.country,city:this.city,adress:this.adress,countrycode:this.countrycode,mobilenumber:this.mobilenumber,newsletter:this.newsletter};this.formDataSubmitted.emit(e);console.log(e)}saveGuestDetailsClick(t){t.preventDefault();if(this.firstname===""||this.lastname===""||this.email===""||this.password===""||this.country===""||this.countrycode===""||this.mobilenumber===""){this.showFormError=true;console.log("Please Fill All Required Fields!")}else{this.handleSubmit(t);console.log(t)}}render(){let t=null;let e=null;let s=null;if(this.responseD){e=this.allCountries.map((t=>i("option",{value:t.name,key:t.id},t.name)));s=this.allCountries.map((t=>i("option",{value:t.phone_prefix,key:t.id},t.phone_prefix)))}if(this.opened){t=[i("div",{id:"main-container"},i("h3",null,"Guest Details"),i("div",{id:"form-container"},i("div",null,i("form",{action:""},i("div",null,i("p",{id:"rg-date"},"Registration date : ",i("span",{id:"a"},"27-jul-2023"))),i("div",{class:"input-container"},i("label",{htmlFor:"firstName"},"First Name*"),i("input",{type:"text",id:"firstName",placeholder:"",value:this.firstname,onChange:t=>this.firstname=t.target.value})),i("div",{class:"input-container"},i("label",{htmlFor:"lastname"},"Last Name*"),i("input",{type:"text",id:"lastName",placeholder:"",value:this.lastname,onChange:t=>this.lastname=t.target.value})),i("div",{class:"input-container"},i("label",{htmlFor:"email"},"Email*"),i("input",{type:"email",id:"email",placeholder:"",value:this.email,onChange:t=>this.email=t.target.value})),i("div",{class:"input-container"},i("label",{htmlFor:"email"},"Alternate email"),i("input",{type:"email",id:"Alt-email",placeholder:"",value:this.alternateemail,onChange:t=>this.alternateemail=t.target.value})),i("div",{class:"input-container"},i("label",{htmlFor:"password"},"Password*"),i("input",{type:"password",id:"password",placeholder:"",value:this.password,onChange:t=>this.password=t.target.value})),i("div",{class:"input-container"},i("label",{htmlFor:"country"},"Country*"),i("select",{class:"country-dropdown",id:"country",onChange:t=>this.country=t.target.value},i("option",{value:"",disabled:true,selected:true},"Select Your Country"),e)),i("div",{class:"input-container"},i("label",{htmlFor:"city"},"City"),i("input",{type:"text",id:"city",placeholder:"",value:this.city,onChange:t=>this.city=t.target.value})),i("div",{class:"input-container"},i("label",{id:"address-lable",htmlFor:"address"},"Address"),i("textarea",{class:"",id:"address-textarea",rows:2,placeholder:"",value:this.adress,onInput:t=>this.adress=t.target.value})),i("div",{class:"input-container"},i("label",{htmlFor:"countryCode"},"Mobile"),i("select",{id:"countryCode",onChange:t=>this.countrycode=t.target.value},i("option",{value:"",disabled:true,selected:true},"Code"),s),i("br",null)),i("div",{class:""},i("input",{type:"tel",id:"mobileNumber",placeholder:"",value:this.mobilenumber,onChange:t=>this.mobilenumber=t.target.value})),i("div",{class:"checkbox"},i("input",{type:"checkbox",id:"termsCheckbox",name:"termsCheckbox",onChange:t=>this.handleCheckboxChange(t)}),i("label",{htmlFor:"termsCheckbox"},"Newsletter")),i("div",null,i("span",null,"Last used :"),i("span",null,"Language: ",i("span",{id:"b"},"EN")),i("span",null,"--- Currency: ",i("span",{id:"c"},"â‚¬"))),i("div",{class:"line-separator"}),i("button",{type:"submit",class:"full-width-button",onClick:t=>this.saveGuestDetailsClick(t)},"Save")))))]}return t}};a.style=s;export{a as jji_guest_details};
//# sourceMappingURL=p-c545eb2e.entry.js.map