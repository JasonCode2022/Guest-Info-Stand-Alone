import{r as t,c as s,h as e}from"./p-8969bb86.js";const i="";const l=class{constructor(e){t(this,e);this.formDataSubmitted=s(this,"formDataSubmitted",7);this.allCountries=[];this.responseD=undefined;this.opened=undefined;this.firstname="";this.lastname="";this.email="";this.alternateemail="";this.password="";this.country="";this.city="";this.adress="";this.countrycode="";this.mobilenumber="";this.newsletter=false;this.formSubmitted=false;this.showFormError=false}async componentDidLoad(){const t=await this.fetchDataFromAPI();if(t){this.firstname=t.firstname;this.lastname=t.lastname;this.email=t.email;this.alternateemail=t.alternateemail;this.password=t.password;this.country=t.country;this.city=t.city;this.adress=t.adress;this.countrycode=t.countrycode;this.mobilenumber=t.mobilenumber;this.newsletter=t.newsletter}}async fetchDataFromAPI(){try{const t=new Headers;t.append("Content-Type","application/json");const s=JSON.stringify({language:"EN"});const e={method:"POST",headers:t,body:s,redirect:"follow"};const i=await fetch("https://gateway.igloorooms.com/IR/Get_Exposed_Countries?Ticket=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2OTEzMDY5NzEsIkNMQUlNLTAxIjoicktLMi9DY1dQQnM9IiwiQ0xBSU0tMDIiOiI5UStMQm93VTl6az0iLCJDTEFJTS0wMyI6Ilp3Tys5azJoTzUwPSIsIkNMQUlNLTA0IjoiZE5oVHRrc2lQaSt5MDdRVkMwN3hwczNRdEJZMEE3eCtkbXR3TWlJdHRaTT0ifQ.6YTCQAE9mS9z0aJutGCzvc9O64bqgYFCINguW_uIb5k",e);this.responseD=i.ok;if(!i.ok){throw new Error("Network response was not ok")}const l=await i.json();this.allCountries=l.My_Result;console.log(this.allCountries);console.log(this.responseD)}catch(t){console.error("Error fetching data:",t);return null}}handleCheckboxChange(t){const s=t.target;this.newsletter=s.checked}async handleSubmit(t){t.preventDefault();const s={firstname:this.firstname,lastname:this.lastname,email:this.email,alternateemail:this.alternateemail,password:this.password,country:this.country,city:this.city,adress:this.adress,countrycode:this.countrycode,mobilenumber:this.mobilenumber,newsletter:this.newsletter};this.formDataSubmitted.emit(s);console.log(s)}saveGuestDetailsClick(t){t.preventDefault();if(this.firstname.trim()===""||this.lastname.trim()===""||this.email.trim()===""||this.password.trim()===""||this.country.trim()===""||this.countrycode.trim()===""||this.mobilenumber.trim()===""){this.showFormError=true;console.log("Please Fill All Required Fields!")}else{this.handleSubmit(t);console.log(t)}}render(){let t=null;let s=null;let i=null;const l=new Date;const a=l.getDate();const n=l.toLocaleString("default",{month:"short"});const o=l.getFullYear();const h=`${a}-${n}-${o}`;if(this.responseD){s=this.allCountries.map((t=>e("option",{value:t.name,key:t.id},t.name)));i=this.allCountries.map((t=>e("option",{value:t.phone_prefix,key:t.id},t.phone_prefix)))}if(this.opened){t=[e("div",{id:"main-container"},e("h3",null,"Guest Details"),e("div",{id:"form-container"},e("div",null,e("form",{action:""},e("div",null,e("p",{id:"rg-date"},"Registration date : ",e("span",{id:"a"},h))),e("div",{class:"input-container"},e("label",{htmlFor:"firstName"},"First Name*"),e("input",{type:"text",id:"firstName",placeholder:"",value:this.firstname,onChange:t=>this.firstname=t.target.value})),e("div",null,this.showFormError&&this.firstname.trim()===""?e("p",{class:"error-message"},"Please Fill This Field."):null),e("div",{class:"input-container"},e("label",{htmlFor:"lastname"},"Last Name*"),e("input",{type:"text",id:"lastName",placeholder:"",value:this.lastname,onChange:t=>this.lastname=t.target.value})),e("div",null,this.showFormError&&this.lastname.trim()===""?e("p",{class:"error-message"},"Please Fill This Field."):null),e("div",{class:"input-container"},e("label",{htmlFor:"email"},"Email*"),e("input",{type:"email",id:"email",placeholder:"",value:this.email,onChange:t=>this.email=t.target.value})),e("div",null,this.showFormError&&this.email.trim()===""?e("p",{class:"error-message"},"Please Fill This Field."):null),e("div",{class:"input-container"},e("label",{htmlFor:"email"},"Alternate email"),e("input",{type:"email",id:"Alt-email",placeholder:"",value:this.alternateemail,onChange:t=>this.alternateemail=t.target.value})),e("div",{class:"input-container"},e("label",{htmlFor:"password"},"Password*"),e("input",{type:"password",id:"password",placeholder:"",value:this.password,onChange:t=>this.password=t.target.value})),e("div",null,this.showFormError&&this.password.trim()===""?e("p",{class:"error-message"},"Please Fill This Field."):null),e("div",{class:"input-container"},e("label",{htmlFor:"country"},"Country*"),e("select",{class:"country-dropdown",id:"country",onChange:t=>this.country=t.target.value},e("option",{value:"",disabled:true,selected:true},"Select Your Country"),s)),e("div",null,this.showFormError&&this.country.trim()===""?e("p",{class:"error-message"},"Please Fill This Field."):null),e("div",{class:"input-container"},e("label",{htmlFor:"city"},"City"),e("input",{type:"text",id:"city",placeholder:"",value:this.city,onChange:t=>this.city=t.target.value})),e("div",{class:"input-container"},e("label",{id:"address-lable",htmlFor:"address"},"Address"),e("textarea",{class:"",id:"address-textarea",rows:2,placeholder:"",value:this.adress,onInput:t=>this.adress=t.target.value})),e("div",{class:"input-container"},e("label",{htmlFor:"countryCode"},"Mobile"),e("select",{id:"countryCode",onChange:t=>this.countrycode=t.target.value},e("option",{value:"",disabled:true,selected:true},"Code"),i),e("br",null)),e("div",null,this.showFormError&&this.countrycode.trim()===""?e("p",{class:"error-message"},"Please Fill This Field."):null),e("div",{class:""},e("input",{type:"tel",id:"mobileNumber",placeholder:"",value:this.mobilenumber,onChange:t=>this.mobilenumber=t.target.value})),e("div",null,this.showFormError&&this.mobilenumber.trim()===""?e("p",{class:"error-message"},"Please Fill This Field."):null),e("div",{class:"checkbox"},e("input",{type:"checkbox",id:"termsCheckbox",name:"termsCheckbox",onChange:t=>this.handleCheckboxChange(t)}),e("label",{htmlFor:"termsCheckbox"},"Newsletter")),e("div",null,e("span",null,"Last used :"),e("span",null,"Language: ",e("span",{id:"b"},"EN")),e("span",null,"--- Currency: ",e("span",{id:"c"},"â‚¬"))),e("div",{class:"line-separator"}),e("button",{type:"submit",class:"full-width-button",onClick:t=>this.saveGuestDetailsClick(t)},"Save")))))]}return t}};l.style=i;export{l as jji_guest_details};
//# sourceMappingURL=p-d6b78153.entry.js.map